import * as React from 'react';
import classNames from '../../utilities/classnames';
import { tabNavItem, tabNavItemActive } from './index.module.css.js';
export var Tab = function (_a) {
    var _b = _a.tabGroupId, tabGroupId = _b === void 0 ? 0 : _b, _c = _a.tabIndex, tabIndex = _c === void 0 ? 0 : _c, _d = _a.active, active = _d === void 0 ? false : _d, _e = _a.title, title = _e === void 0 ? '' : _e, onActivate = _a.onActivate, className = _a.className;
    var _f = React.useState(true), firstRender = _f[0], setFirstRender = _f[1];
    var buttonRef = React.useRef(null);
    React.useEffect(function () {
        // prevent auto-focus on initial render
        if (active && !firstRender) {
            buttonRef.current.focus();
        }
        else {
            setFirstRender(false);
        }
    }, [active]);
    var onClickTab = function (event) {
        if (event) {
            event.preventDefault();
        }
        if (onActivate) {
            onActivate();
        }
    };
    var classes = classNames(tabNavItem, (active && tabNavItemActive) || null, className);
    return (React.createElement("button", { key: "TabNav-" + tabGroupId + "-" + tabIndex, className: classes, role: 'tab', tabIndex: active ? 0 : -1, id: "TabNav-" + tabGroupId + "-" + tabIndex, "aria-controls": "TabPane-" + tabGroupId + "-" + tabIndex, "aria-selected": active, onClick: onClickTab, type: 'button', ref: buttonRef }, title));
};
