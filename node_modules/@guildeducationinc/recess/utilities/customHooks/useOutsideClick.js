import * as React from 'react';
import { Keys } from '../keyboard';
var useEffect = React.useEffect;
/**
 * NOTE this will be improved for accessibility in q4/19
 */
export default (function (ref, cb) {
    var handleClickOutside = function (event) {
        if (ref.current && !ref.current.contains(event.target)) {
            cb();
        }
    };
    var handleEscapePress = function (event) {
        if (event.key === Keys.Escape) {
            cb();
        }
    };
    useEffect(function () {
        document.addEventListener('mousedown', handleClickOutside);
        document.addEventListener('touchend', handleClickOutside);
        document.addEventListener('keydown', handleEscapePress);
        return function () {
            document.removeEventListener('mousedown', handleClickOutside);
            document.removeEventListener('touchend', handleClickOutside);
            document.removeEventListener('keydown', handleEscapePress);
        };
    }, []);
});
